<!DOCTYPE html>
<html lang="en">
  <head>
    <title></title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <!-- Lexend Giga font -->
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Lexend+Giga&display=swap"
      rel="stylesheet"
    />

    <!-- CSS -->
    <link rel="stylesheet" href="./style.css" />
    <!-- BootstrapCSS -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
  </head>
  <body class="color-change-2x">
    <div>
      <h1 id="h1" class="tracking-in-contract">
        Welcome to your professional Task-List
      </h1>
    </div>
    <div class="row">
      <div class="container-fluid">
        <img
          onclick="sortLists()"
          src="https://cdn.iconscout.com/icon/free/png-256/sort-14-444984.png"
          height="35"
        />
        <input type="text" placeholder="TASKS HERE" id="to-add" />

        <img
          src="https://image.flaticon.com/icons/png/512/63/63747.png"
          height="25"
          onclick="addtasks()"
        />
        <input
          type="color"
          placeholder="Color"
          id="colorPicker"
          onchange="getColor()"
        />
      </div>
      <div class="container-fluid">
        <ul id="my-list"></ul>
      </div>
    </div>
    <!-- Optional JavaScript -->
    <script>
      const d = new Date(2021, 1, 10);
      const ye = new Intl.DateTimeFormat("en", { year: "numeric" }).format(d);
      const mo = new Intl.DateTimeFormat("en", { month: "short" }).format(d);
      const da = new Intl.DateTimeFormat("en", { day: "2-digit" }).format(d);
      const title = document.querySelector("title");
      title.innerText = `${da}/${mo}/${ye}`;
      const getColor = () => {
        color = document.getElementById("colorPicker").value;
        let li = document.querySelectorAll("li");
        li.forEach((li) => {
          li.style.backgroundColor = color;
        });
      };

      const readInput = () => {
        let input = document.querySelector("input");
        console.log(input.value);
      };
      let addEventListener = () => {
        let inputField = document.getElementById("to-add");
        inputField.onkeydown = readInput;
      };
      addEventListener();

      const addtasks = () => {
        let value = document.querySelector("input").value;
        if (value !== "") {
          let text = document.createTextNode(value);
          let ul = document.getElementById("my-list");
          let liCreate = document.createElement("li");
          let tickButton = document.createElement("button");
          let deleteButton = document.createElement("button");
          let divvv = document.createElement("div");

          tickButton.classList.add("completedtask");
          tickButton.addEventListener("click", () => {
            tickButton.parentNode.parentNode.style.textDecoration =
              "line-through";
          });

          deleteButton.classList.add("deltask");
          deleteButton.addEventListener("click", () => {
            deleteButton.parentNode.parentNode.remove();
          });
          divvv.appendChild(tickButton);
          divvv.appendChild(deleteButton);
          liCreate.appendChild(text);
          liCreate.appendChild(divvv);
          liCreate.classList.add("tracking-in-contract");

          ul.appendChild(liCreate);
        } else {
          alert(
            "You need to write something in order to add a task to the list!"
          );
        }
      };
      const sortLists = () => {
        const list = document.querySelector("ul");
        [...list.children]
          .sort((a, b) => (a.innerText > b.innerText ? 1 : -1))
          .forEach((node) => list.appendChild(node));
      };
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
